
get_current_project_path(PROJECT_PATH ${CMAKE_CURRENT_SOURCE_DIR} ${CONFIG_COMPILE_PROJECT_SELECT}) #获取当前工程路径

file(GLOB_RECURSE C_SOURCES "${PROJECT_PATH}/*.c" "${CMAKE_CURRENT_SOURCE_DIR}/common/*.c") #先包含全部.c.s文件
file(GLOB_RECURSE C_EXCLUDE_SOURCES ) #去除封库或者不使用的.c.s
list(REMOVE_ITEM C_SOURCES ${C_EXCLUDE_SOURCES})

get_filename_component(PARENT_PROJECT_PATH "${PROJECT_PATH}/../.." ABSOLUTE)

if(${PARENT_PROJECT_PATH} STREQUAL "${CMAKE_CURRENT_SOURCE_DIR}/driver_demo")
	get_sub_header_dirs(INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/common ${CMAKE_CURRENT_SOURCE_DIR}/driver_demo ${PROJECT_PATH})
else()
    get_sub_header_dirs(INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/common  ${PROJECT_PATH})
endif()

set(PRJ_SRC_LIST ${PRJ_SRC_LIST} ${C_SOURCES} PARENT_SCOPE)

set(BASE_INCLUDE_DIRS ${BASE_INCLUDE_DIRS} ${INCLUDE_DIRS} PARENT_SCOPE)

