
file(GLOB_RECURSE C_SOURCES "${CMAKE_CURRENT_SOURCE_DIR}/*.c" "${CMAKE_CURRENT_SOURCE_DIR}/*.s" "${CMAKE_CURRENT_SOURCE_DIR}/*.S" )#去除封库或者不使用的.c.s
file(GLOB_RECURSE C_EXCLUDE_SOURCES "${CMAKE_CURRENT_SOURCE_DIR}/startup/src/startup_cm3_keil.s") #去除封库或者不使用的.c.s
list(REMOVE_ITEM C_SOURCES ${C_EXCLUDE_SOURCES})

get_sub_header_dirs(INCLUDE_DIRS ${CMAKE_CURRENT_LIST_DIR})

set(PRJ_SRC_LIST ${PRJ_SRC_LIST} ${C_SOURCES} PARENT_SCOPE)

set(BASE_INCLUDE_DIRS ${BASE_INCLUDE_DIRS} ${INCLUDE_DIRS} PARENT_SCOPE)