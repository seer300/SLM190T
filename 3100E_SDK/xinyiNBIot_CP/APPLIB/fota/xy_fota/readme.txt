xy_fota
芯翼FOTA升级相关源码，如果使用第三方客户的FOTA算法，如艾拉比、广升、红石等，无需参考这部分内容，需客户自行与第三方客户联系！
===========================

###########目录结构描述
├── readme.md                   // help
├── inc                         // 头文件
└── src                         // 源码
	├── xy_fota_utils.c         // FOTA升级公共接口，如flash差分包保存地址获取、版本号获取等，这些接口供芯翼自研FOTA和第三方FOTA方案共同使用！
	├── xy_fota.c               // 芯翼提取的FOTA升级的相关API接口，可用于客户基于芯翼FOTA主功能的二次开发，但客户不得修改其源码！！！
	├── at_fota.c				// AT命令FOTA升级相关代码，使用了xy_fota.c的相关接口，客户可以自行修改相关的AT命令
	└── xy_fota_by_ble.c        // 基于蓝牙提供的芯翼FOTA升级流程代码，使用了xy_fota.c的相关接口，客户无需关心！

	

###########芯翼自研FOTA方案的用户开发参考

                                                 ┌────────────┐
                                                 │   start    │
                                                 │            │
                                                 └─────┬──────┘
                                                       │
                                                       │
                                                       │                                       
										 ┌─────────────▼───────────────┐
                                         │       OTA_upgrade_init      │
                                         │                             │
                                         │  通过远程服务器下载差分包   │◄─────┐
                                         │  或本地外部MCU推送差分包    │      │                                        
										 └─────────────┬───────────────┘      │
                                                       │                      │
                                                       │                      │
                                                       │                      │
                                                       ▼                      │                                        
										 ┌─────────────────────────────┐      │
                                         │     OTA_save_one_packet         │ERROR │
                                         │                             │──────│
                                         │     分多次将收到的差分包    │      │
                                         │    保存到本地，如flash      │      │                                         
										 └─────────────┬───────────────┘      │
                                                       │                      │
                                                       │                      │
                                                       │                      │
                                                       ▼                      │
┌───────────────────────────┐        	 ┌─────────────────────────────┐      │
│                           │            │      OTA_delta_check        │ERROR │
│                           │            │                             │──────│
│                           │            │     对本地保存的差分包      │      │
│                           │            │  进行校验，该校验不是必须   │      │
└───────────────────────────┘            └─────────────┬───────────────┘      │
             ▲                                         │重                    │
             │                                         │启                    │
             │                                         │                      │
┌────────────┴──────────────┐            ┌─────────────▼───────────────┐      │
│   OTA_get_upgrade_result  │            │      OTA_upgrade_start      │ERROR │
│                           │    重启    │                             ├──────┘
│ 升级完成后，再次重启，进入│◄───────────┤    校验通过后，设置升级标识 │
│ 大版本后，获取升级结果    │            │    重启后在二级boot进行升级 │
└───────────────────────────┘            └─────────────────────────────┘

